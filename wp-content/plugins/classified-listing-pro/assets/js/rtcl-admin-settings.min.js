!function(e){e(function(){e.fn.select2&&e(".rtcl-select2").select2(),e.fn.wpColorPicker&&e(".rtcl-color").wpColorPicker(),e.fn.rtFieldDependency&&e("[data-rt-depends]").rtFieldDependency(),e(".rtcl-setting-image-wrap").on("click",".rtcl-add-image",function(t){t.preventDefault();var r,s,a=e(this).parents(".rtcl-setting-image-wrap");void 0===r?((r=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:!1})).on("insert",function(){if(s=r.state().get("selection").first().toJSON(),!(0>e.trim(s.url.length))){var t=void 0===s.sizes.medium?s.url:s.sizes.medium.url;a.find(".rtcl-setting-image-id").val(s.id),a.find(".image-preview-wrapper").html('<img src="'+t+'" alt="'+s.title+'" />')}}),r.open()):r.open()}),e(".rtcl-setting-image-wrap").on("click",".rtcl-remove-image",function(t){t.preventDefault();var r=e(this).parents(".rtcl-setting-image-wrap");confirm("Are you sure to delete?")&&(r.find(".rtcl-setting-image-id").val(""),r.find(".image-preview-wrapper img").attr("src",r.find(".image-preview-wrapper").data("placeholder")))});var t=e("#rtcl_account_settings-user_verification");t.is(":checked")&&e(".rtcl_account_settings-verify_max_resend_allowed").show("slow"),t.on("change",function(){e(this).is(":checked")?e(".rtcl_account_settings-verify_max_resend_allowed").show("slow"):e(".rtcl_account_settings-verify_max_resend_allowed").hide("slow")});var r=e("#rtcl_account_settings-enable_terms_conditions");r.is(":checked")&&e(".rtcl_account_settings-terms_conditions").show("slow"),r.on("change",function(){e(this).is(":checked")?e(".rtcl_account_settings-terms_conditions").show("slow"):e(".rtcl_account_settings-terms_conditions").hide("slow")})}),e(".rtcl-license-wrapper").on("click",".rt-licensing-btn",function(t){t.preventDefault();var r=e(this),s=r.closest("td"),a=r.data("action"),i=r.hasClass("license_activate")?"license_activate":"license_deactivate";a?e.ajax({type:"POST",url:ajaxurl,data:{action:a,type:i},beforeSend:function(){s.rtclBlock()},success:function(e){s.rtclUnblock(),e.error?e.msg&&toastr.error(e.msg):(r.text(e.value).removeClass(i).addClass(e.type),"license_deactivate"===e.type?r.removeClass("button-primary").addClass("danger"):"license_activate"===e.type&&r.removeClass("danger").addClass("button-primary"),toastr.success(e.msg)),r.blur()},error:function(e,t){s.rtclUnblock(),0===e.status?toastr.error("","Not connect.\n Verify Network."):404===e.status?toastr.error("","Requested page not found. [404]"):500===e.status?toastr.error("","Internal Server Error [500]."):"parsererror"===t?toastr.error("","Requested JSON parse failed."):"timeout"===t?toastr.error("","Time out error."):"abort"===t?toastr.error("","Ajax request aborted."):toastr.error("","Uncaught Error.\n"+e.responseText)}}):toastr.error("","Action not defined!!")})}(jQuery);
